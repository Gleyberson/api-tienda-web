<h1>Real-time Products</h1>

<section>
  <h2>Create product (via WebSocket)</h2>
  <form id="createForm">
    <div><label>Title <input name="title" required /></label></div>
    <div><label>Description <input name="description" /></label></div>
    <div><label>Price <input name="price" type="number" step="0.01" /></label></div>
    <div><label>Code <input name="code" /></label></div>
    <div><label>Stock <input name="stock" type="number" /></label></div>
    <div><label>Category <input name="category" /></label></div>

    <div>
      <label>Thumbnails
        <input name="thumbnails" type="file" accept="image/*" multiple />
      </label>
    </div>

    <div>
      <label>Status
        <select name="status">
          <option value="">(unset)</option>
          <option value="true">true</option>
          <option value="false">false</option>
        </select>
      </label>
    </div>
    <button type="submit">Create</button>
    <div id="createMsg"></div>
  </form>
</section>

<section>
  <h2>Products (live)</h2>
  <ul id="productList">
    {{#each products}}
      <li data-id="{{this.id}}">
        <img src="{{this.thumbnails.[0]}}" alt="Thumbnail" width="50" height="50" />
        <strong>{{this.title}}</strong>
        <small>ID: {{this.id}}</small>
        {{#if this.price}} - ${{this.price}} {{/if}}
        <button class="btn-delete" data-id="{{this.id}}">Delete</button>
      </li>
    {{/each}}
  </ul>
</section>

<script src="/js/realtime.js" defer></script>